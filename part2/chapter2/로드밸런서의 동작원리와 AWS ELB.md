# 로드밸런서(L4/L7)의 동작원리와 AWS ELB

## 로드밸런서
- 클라이언트가 굉장히 늘어날 경우 하나의 서버에서 처리하기에 어려움이 생김
- 어려움 해결 방법 1: 서버의 용량이나 성능을 올리는 방법
  - 단점1: 특정 용량이나 성능에서 감당할 수 있는 동접 수를 초과할 경우 감당 불가능
  - 단점2: 비용적인 측면에서 부담이 큼
- 어려움 해결 방법 2: 같은 용량의 서버를 2대 이상 구축해서 트래픽을 분산시키는 방법
- 해결 방법2에서는 서버로 들어오는 트래픽을 각 서버로 적절하게 분산처리해주어야 하는것이 필요하는데, 그 역할을 하는것이 로드밸런서
    
## L4 로드밸런서
- 비교적 옛날에 사용하던 유형의 로드밸런서
- OSI 7계층에서 4번째 Transport Layer에서 트래픽을 분산처리해주는 로드밸런서
- 서버로 들어오는 데이터 중 IP와 port 정보만을 보고 리다이렉트 형태로 트래픽 처리
- 장점:
  - IP와 port만 보기 때문에 빠르고 가격이 저렴
  - 동작방식이 단순
- 단점:
  - IP와 port 이외의 데이터는 참조하지 않기 때문에 Microservice 형태의 서버에서는 서비스 불가능
    
## L7 로드밸런서
- L4 로드밸런서와는 다르게 IP와 port외의 데이터도 참조해서 트래픽 처리
- L7 로드밸러서(alb)를 많이 사용하는 추세
- 장점:
  - 데이터를 참조하기 때문에 더 많은 기능 처리 가능
  - L4 로드밸런서와 다르게 데이터를 참조하기 때문에 Microservice 형태의 서버에서도 서비스 가능
- 단점:
  - 데이터를 매번 참조해야 하기 때문에 속도가 느린편
  - 비용이 높은 편